<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modifica Squadra - <%= squadra.nome %></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/styles/Admin.css">
    <link rel="stylesheet" href="/assets/styles/Admin_Global.css">
    <link rel="stylesheet" href="/assets/styles/modifica_squadra.css">
</head>
<body>
    <main class="container-fluid py-5">
        <div class="container">
            <!-- Header -->
            <div class="row mb-5">
                <div class="col-12">
                    <header class="admin-page-header slide-up text-center">
                        <h1 class="display-5"><i class="bi bi-people-fill"></i> Gestione Squadra</h1>
                        <p class="admin-page-subtitle fs-3 fw-bold"><%= squadra.nome %></p>
                    </header>
                </div>
            </div>

            <!-- Dettagli Squadra -->
            <div class="row mb-5">
                <div class="col-12">
                    <section class="content-card fade-in">
                        <div class="section-header">
                            <h2 class="section-title mb-0"><i class="bi bi-info-circle me-2"></i>Informazioni Squadra</h2>
                            <small class="text-muted">ID: <%= squadra.id %></small>
                        </div>
                        <div class="card-body">
                            <form id="squadraForm" class="row g-4">
                                <input type="hidden" id="teamId" value="<%= squadra.id %>">
                                <div class="col-md-6">
                                    <label for="nome" class="form-label">
                                        <i class="fas fa-tag text-primary"></i> Nome Squadra
                                    </label>
                                    <input type="text" class="form-control" id="nome" name="nome" value="<%= squadra.nome %>" required placeholder="Inserisci il nome della squadra">
                                </div>
                                <div class="col-md-6">
                                    <label for="annoFondazione" class="form-label">
                                        <i class="fas fa-calendar-alt text-success"></i> Anno Fondazione
                                    </label>
                                    <input type="number" class="form-control" id="annoFondazione" name="anno" value="<%= squadra.Anno %>" required min="1900" max="<%= new Date().getFullYear() %>" placeholder="Anno di fondazione">
                                </div>
                                <div class="col-12">
                                    <label for="fotoSquadra" class="form-label">
                                        <i class="fas fa-camera text-warning"></i> Logo Squadra
                                    </label>
                                    <input type="file" class="form-control" id="fotoSquadra" name="logo" accept="image/*">
                                        <% if (squadra.immagine) { %>
                                            <div class="mt-3 text-center">
                                                <img src="<%= squadra.immagine.url %>" alt="Logo Squadra" id="currentLogo" class="img-fluid rounded shadow-lg hover-lift" style="max-width: 200px; border: 3px solid rgba(255,255,255,0.8);">
                                                <p class="text-muted mt-2 small">Logo attuale</p>
                                            </div>
                                        <% } else { %>
                                            <div class="mt-3 text-center text-muted" id="noLogoPlaceholder">
                                                <i class="fas fa-image fa-3x mb-2"></i>
                                                <p>Nessun logo caricato</p>
                                            </div>
                                        <% } %>
                                        <div class="mt-3 text-center" id="logoPreviewContainer" style="display:none;">
                                            <img id="logoPreview" class="img-fluid rounded shadow-lg" style="max-width:200px; border:3px solid rgba(255,255,255,0.8);" alt="Anteprima logo">
                                            <p class="text-muted mt-2 small">Anteprima logo selezionato</p>
                                        </div>
                                </div>
                                <div class="col-12 text-center mt-4">
                                    <button type="submit" class="btn btn-success btn-lg px-5" id="salvaSquadra">
                                        <i class="fas fa-save"></i> Salva Modifiche
                                    </button>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Giocatori -->
            <div class="row mb-5">
                <div class="col-12">
                    <section class="content-card fade-in">
                        <div class="section-header">
                            <h2 class="section-title mb-0">
                                <i class="bi bi-person-fill me-2"></i>Rosa Giocatori
                                <span class="badge badge-success ms-2"><%= squadra.giocatori.length %></span>
                            </h2>
                            <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modalGiocatore">
                                <i class="bi bi-plus-circle me-2"></i>Nuovo Giocatore
                            </button>
                        </div>
                        <div>

                            <% if (!squadra.giocatori || squadra.giocatori.length === 0) { %>
                                <div class="text-center py-5">
                                    <i class="fas fa-users fa-4x text-muted mb-3"></i>
                                    <h4 class="text-muted">Nessun giocatore registrato</h4>
                                    <p class="text-muted">Aggiungi il primo giocatore alla tua squadra</p>
                                    <button class="btn btn-success btn-lg mt-3" data-bs-toggle="modal" data-bs-target="#modalGiocatore">
                                        <i class="fas fa-plus"></i> Aggiungi Primo Giocatore
                                    </button>
                                </div>
                            <% } else { %>
                                <div id="playersList" class="row g-4">
                                    <% (squadra.giocatori || []).forEach((giocatore, index) => { %>
                                                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                                          <div class="card h-100 hover-lift animate__animated animate__fadeInUp player-card" 
                                              data-player-id="<%= giocatore.id %>"
                                              data-nome="<%= giocatore.nome %>"
                                              data-cognome="<%= giocatore.cognome %>"
                                              data-ruolo="<%= giocatore.ruolo %>"
                                              data-numero="<%= giocatore.numero_maglia %>"
                                              data-data_nascita="<%= giocatore.data_nascita %>"
                                              data-nazionalita="<%= giocatore.nazionalita %>"
                                              data-img="<%= giocatore.immagine ? giocatore.immagine.url : '' %>">
                                                <div class="card-body text-center p-4">
                                                    <div class="position-relative mb-3">
                                                                    <% if (giocatore.immagine) { %>
                                                                        <img src="<%= giocatore.immagine.url %>" alt="<%= giocatore.nome %> <%= giocatore.cognome %>" class="rounded-circle shadow-lg" style="width: 100px; height: 100px; object-fit: cover; border: 4px solid rgba(255,255,255,0.9);">
                                                                    <% } else { %>
                                                            <div class="bg-gradient rounded-circle d-inline-flex align-items-center justify-content-center shadow-lg" style="width: 100px; height: 100px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                                                <i class="fas fa-user text-white fa-2x"></i>
                                                            </div>
                                                        <% } %>
                                                        <div class="position-absolute top-0 end-0">
                                                            <span class="badge bg-primary rounded-pill px-2 py-1 small">#<%= giocatore.numero_maglia %></span>
                                                        </div>
                                                    </div>
                                                    <h5 class="card-title mb-1 gradient-text"><%= giocatore.nome %> <%= giocatore.cognome %></h5>
                                                    <p class="text-muted mb-2">
                                                        <i class="fas fa-futbol text-success"></i> <%= giocatore.ruolo %>
                                                    </p>
                                                    <% if (giocatore.data_nascita) { %>
                                                        <p class="text-muted small mb-3">
                                                            <i class="fas fa-birthday-cake text-warning"></i>
                                                            <%= new Date(giocatore.data_nascita).toLocaleDateString('it-IT') %>
                                                            <% if (giocatore.nazionalita) { %>
                                                                <span class="ms-2">‚Ä¢ <%= giocatore.nazionalita %></span>
                                                            <% } %>
                                                        </p>
                                                    <% } %>
                                                    <div class="btn-group w-100" role="group">
                                                        <button class="btn btn-outline-primary modifica-giocatore" data-id="<%= giocatore.id %>" title="Modifica">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button class="btn btn-outline-danger elimina-giocatore" data-id="<%= giocatore.id %>" title="Elimina">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    <% }); %>
                                </div>
                            <% } %>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Dirigenti -->
            <div class="row">
                <div class="col-12">
                    <section class="content-card fade-in">
                        <div class="section-header">
                            <h2 class="section-title mb-0">
                                <i class="bi bi-person-badge me-2"></i>Staff Dirigenziale
                                <span class="badge badge-warning ms-2"><%= squadra.dirigenti.length %></span>
                            </h2>
                            <button class="btn btn-warning" id="nuovoDirigenteBtn">
                                <i class="bi bi-plus-circle me-2"></i>Nuovo Dirigente
                            </button>
                        </div>
                        <div>
                            <% if (squadra.dirigenti.length === 0) { %>
                                <div class="text-center py-5">
                                    <i class="fas fa-user-tie fa-4x text-muted mb-3"></i>
                                    <h4 class="text-muted">Nessun dirigente registrato</h4>
                                    <p class="text-muted">Assegna i primi ruoli dirigenziali alla tua squadra</p>
                                    <button class="btn btn-warning btn-lg text-dark mt-3" data-bs-toggle="modal" data-bs-target="#modalDirigente">
                                        <i class="fas fa-plus"></i> Aggiungi Primo Dirigente
                                    </button>
                                </div>
                            <% } else { %>
                                <div id="dirigentiList" class="row g-4">
                                    <% squadra.dirigenti.forEach((dirigente, index) => { %>
                                        <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                                            <div class="card h-100 hover-lift animate__animated animate__fadeInUp manager-card" 
                                                data-manager-id="<%= dirigente.id %>"
                                                data-utente-id="<%= dirigente.utente_id %>"
                                                data-nome="<%= dirigente.nome %>"
                                                data-cognome="<%= dirigente.cognome %>"
                                                data-ruolo="<%= dirigente.ruolo %>"
                                                data-data-nomina="<%= dirigente.data_nomina || '' %>"
                                                data-data-scadenza="<%= dirigente.data_scadenza || '' %>"
                                                data-img="<%= dirigente.immagine ? dirigente.immagine.url : '' %>">
                                                <div class="card-body text-center p-4">
                                                    <div class="position-relative mb-3">
                                                        <% if (dirigente.immagine) { %>
                                                            <img src="<%= dirigente.immagine.url %>" alt="<%= dirigente.nome %> <%= dirigente.cognome %>" class="rounded-circle shadow-lg" style="width: 100px; height: 100px; object-fit: cover; border: 4px solid rgba(255,255,255,0.9);">
                                                        <% } else { %>
                                                            <div class="bg-gradient rounded-circle d-inline-flex align-items-center justify-content-center shadow-lg" style="width: 100px; height: 100px; background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
                                                                <i class="fas fa-user-tie text-dark fa-2x"></i>
                                                            </div>
                                                        <% } %>
                                                        <div class="position-absolute top-0 end-0">
                                                            <span class="badge bg-warning text-dark rounded-pill px-2 py-1 small"><%= dirigente.ruolo %></span>
                                                        </div>
                                                    </div>
                                                    <h5 class="card-title mb-1 gradient-text"><%= dirigente.nome %> <%= dirigente.cognome %></h5>
                                                    <p class="text-muted mb-2">
                                                        <i class="fas fa-id-badge text-warning"></i> <%= dirigente.ruolo %>
                                                    </p>
                                                    <% if (dirigente.data_nomina) { %>
                                                        <p class="text-muted small mb-3">
                                                            <i class="fas fa-calendar-check text-success"></i>
                                                            Nominato: <%= new Date(dirigente.data_nomina).toLocaleDateString('it-IT') %>
                                                        </p>
                                                    <% } %>
                                                    <% if (dirigente.data_scadenza) { %>
                                                        <p class="text-muted small mb-3">
                                                            <i class="fas fa-clock text-danger"></i>
                                                            Scadenza: <%= new Date(dirigente.data_scadenza).toLocaleDateString('it-IT') %>
                                                        </p>
                                                    <% } %>
                                                    <div class="btn-group w-100" role="group">
                                                        <button class="btn btn-outline-primary modifica-dirigente" data-id="<%= dirigente.id %>" title="Modifica">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button class="btn btn-outline-danger elimina-dirigente" data-id="<%= dirigente.id %>" title="Elimina">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    <% }); %>
                                </div>
                            <% } %>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal Giocatore -->
    <div class="modal fade" id="modalGiocatore" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content glass-effect">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-plus text-success"></i>
                        <span id="modalGiocatoreTitle">Aggiungi Nuovo Giocatore</span>
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="giocatoreForm" class="needs-validation" novalidate enctype="multipart/form-data">
                        <input type="hidden" id="giocatoreId">
                        <div class="row g-4">
                            <div class="col-md-6">
                                <label for="giocatoreNome" class="form-label">
                                    <i class="fas fa-user text-primary"></i> Nome
                                </label>
                                <input type="text" class="form-control" id="giocatoreNome" name="nome" required placeholder="Inserisci il nome">
                                <div class="invalid-feedback">Il nome √® obbligatorio</div>
                            </div>
                            <div class="col-md-6">
                                <label for="giocatoreCognome" class="form-label">
                                    <i class="fas fa-user text-primary"></i> Cognome
                                </label>
                                <input type="text" class="form-control" id="giocatoreCognome" name="cognome" required placeholder="Inserisci il cognome">
                                <div class="invalid-feedback">Il cognome √® obbligatorio</div>
                            </div>
                            <div class="col-md-6">
                                <label for="giocatoreRuolo" class="form-label">
                                    <i class="fas fa-futbol text-success"></i> Ruolo
                                </label>
                                <select class="form-select" id="giocatoreRuolo" name="ruolo" required>
                                    <option value="">Seleziona ruolo</option>
                                    <option value="Portiere">üß§ Portiere</option>
                                    <option value="Difensore">üõ°Ô∏è Difensore</option>
                                    <option value="Centrocampista">‚öΩ Centrocampista</option>
                                    <option value="Attaccante">üéØ Attaccante</option>
                                </select>
                                <div class="invalid-feedback">Seleziona un ruolo</div>
                            </div>
                            <div class="col-md-6">
                                <label for="numeroMaglia" class="form-label">
                                    <i class="fas fa-hashtag text-warning"></i> Numero Maglia
                                </label>
                                <input type="number" class="form-control" id="numeroMaglia" name="numero_maglia" min="1" max="99" placeholder="1-99">
                            </div>
                            <div class="col-md-6">
                                <label for="dataNascita" class="form-label">
                                    <i class="fas fa-birthday-cake text-danger"></i> Data Nascita
                                </label>
                                <input type="date" class="form-control" id="dataNascita" name="data_nascita">
                            </div>
                            <div class="col-md-6">
                                <label for="nazionalita" class="form-label">
                                    <i class="fas fa-globe text-info"></i> Nazionalit√†
                                </label>
                                <input type="text" class="form-control" id="nazionalita" name="nazionalita" placeholder="es. Italiana">
                            </div>
                            <div class="col-12">
                                <label for="fotoGiocatore" class="form-label">
                                    <i class="fas fa-camera text-secondary"></i> Foto Profilo
                                </label>
                                <input type="file" class="form-control" id="fotoGiocatore" name="foto" accept="image/*">
                                <div class="form-text">Formati supportati: JPG, PNG, GIF. Max 5MB</div>
                                <div class="mt-3 text-center" id="playerPhotoPreviewContainer" style="display:none;">
                                    <img id="playerPhotoPreview" class="img-fluid rounded shadow-lg" style="max-width:150px; border:3px solid rgba(255,255,255,0.8);" alt="Anteprima foto giocatore">
                                    <p class="text-muted mt-2 small">Anteprima foto selezionata</p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times"></i> Annulla
                    </button>
                    <button type="button" class="btn btn-danger me-auto" id="eliminaGiocatore" style="display: none;">
                        <i class="fas fa-trash"></i> Elimina Giocatore
                    </button>
                    <button type="submit" class="btn btn-success" id="salvaGiocatore">
                        <i class="fas fa-save"></i> Salva Giocatore
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Dirigente (riferito) - refatto da zero -->
    <div class="modal fade" id="modalDirigente" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content glass-effect">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-tie text-warning"></i>
                        <span id="modalDirigenteTitle">Aggiungi / Modifica Dirigente</span>
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Chiudi"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <label for="searchUtente" class="form-label">
                            <i class="fas fa-search text-primary"></i> Cerca Utente Esistente
                        </label>
                        <input type="text" id="searchUtente" class="form-control form-control-lg" placeholder="Digita nome o cognome dell'utente..." autocomplete="off" aria-autocomplete="list">
                        <div id="utentiResults" class="list-group mt-3 shadow-sm" style="max-height: 220px; overflow-y: auto;" role="listbox" aria-label="Risultati ricerca utenti"></div>
                        <div class="form-text mt-2">
                            <i class="fas fa-info-circle text-info"></i>
                            Seleziona un utente esistente dal database o lascia vuoto per creare un nuovo profilo
                        </div>
                        <input type="hidden" id="selectedUtenteId" name="selectedUtenteId">
                    </div>

                    <form id="dirigenteForm" class="needs-validation" novalidate enctype="multipart/form-data">
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="dirigenteNome" class="form-label">Nome</label>
                                <input type="text" class="form-control" id="dirigenteNome" name="nome_dirigente" placeholder="Nome" autocomplete="given-name">
                            </div>
                            <div class="col-md-6">
                                <label for="dirigenteCognome" class="form-label">Cognome</label>
                                <input type="text" class="form-control" id="dirigenteCognome" name="cognome_dirigente" placeholder="Cognome" autocomplete="family-name">
                            </div>
                        </div>
                        <input type="hidden" id="dirigenteId" name="dirigenteId">
                        <div class="row g-4">
                            <div class="col-12">
                                <label for="dirigenteRuolo" class="form-label">
                                    <i class="fas fa-id-badge text-warning"></i> Ruolo Dirigenziale
                                </label>
                                <select id="dirigenteRuolo" class="form-select form-select-lg" required>
                                    <option value="">Seleziona ruolo</option>
                                    <option value="Presidente">üëë Presidente</option>
                                    <option value="Vice Presidente">ü§ù Vice Presidente</option>
                                    <option value="Allenatore">üèÜ Allenatore</option>
                                    <option value="Vice Allenatore">üéØ Vice Allenatore</option>
                                    <option value="Dirigente">üìã Dirigente</option>
                                    <option value="Segretario">üìù Segretario</option>
                                    <option value="Tesoriere">üí∞ Tesoriere</option>
                                </select>
                                <div class="invalid-feedback">Seleziona un ruolo dirigenziale</div>
                            </div>

                            <div class="col-md-6">
                                <label for="dataNomina" class="form-label">
                                    <i class="fas fa-calendar-plus text-success"></i> Data Nomina
                                </label>
                                <input type="date" id="dataNomina" class="form-control" name="data_nomina">
                                <div class="form-text">Quando √® stato nominato in questo ruolo</div>
                            </div>

                            <div class="col-md-6">
                                <label for="dataScadenza" class="form-label">
                                    <i class="fas fa-calendar-times text-danger"></i> Data Scadenza
                                </label>
                                <input type="date" id="dataScadenza" class="form-control" name="data_scadenza">
                                <div class="form-text">Quando scade il mandato (opzionale)</div>
                            </div>

                            <div class="col-12">
                                <label for="fotoDirigente" class="form-label">
                                    <i class="fas fa-camera text-secondary"></i> Foto Profilo (opzionale)
                                </label>
                                <input type="file" id="fotoDirigente" name="foto" accept="image/*" class="form-control">
                                <div class="form-text">Formati supportati: JPG, PNG, GIF. Max 5MB</div>
                                <div id="dirigentePhotoPreviewContainer" class="mt-3 text-center" style="display:none;">
                                    <img id="dirigentePhotoPreview" class="img-fluid rounded shadow-lg" style="max-width:150px; border:3px solid rgba(0,0,0,0.08);" alt="Anteprima foto dirigente">
                                    <p class="text-muted mt-2 small">Anteprima foto selezionata</p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times"></i> Annulla
                    </button>

                    <button type="button" id="eliminaDirigente" class="btn btn-danger me-auto" style="display:none;">
                        <i class="fas fa-trash"></i> Elimina Dirigente
                    </button>

                    <button type="button" id="salvaDirigente" class="btn btn-warning text-dark" disabled>
                        <i class="fas fa-save"></i> Salva Dirigente
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="successToast" class="toast align-items-center text-white bg-success border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body" id="successToastBody">Operazione completata con successo!</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
        <div id="errorToast" class="toast align-items-center text-white bg-danger border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body" id="errorToastBody">Si √® verificato un errore!</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="position-fixed top-0 start-0 w-100 h-100 d-none" style="background: rgba(0,0,0,0.5); z-index: 9999;">
        <div class="d-flex justify-content-center align-items-center h-100">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Caricamento...</span>
            </div>
        </div>
    </div>
    <!-- Delete confirmation modal (usato per eliminare la squadra) -->
    <div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Conferma Eliminazione</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Sei sicuro di voler eliminare questa squadra? Questa operazione √® irreversibile.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annulla</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDelete()">Elimina</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Generic entity delete confirmation modal (reusable for player/manager/team) -->
    <div class="modal fade" id="entityDeleteModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title"><i class="fas fa-exclamation-triangle"></i> Conferma Eliminazione</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="entityDeleteModalBody">
                    Sei sicuro di voler eliminare questo elemento? Questa operazione √® irreversibile.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annulla</button>
                    <button type="button" id="confirmDeleteEntityBtn" class="btn btn-danger btn-outline-danger" data-entity-type="" data-entity-id="">Elimina</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/scripts/components/AdminGlobal.js"></script>
    <script src="/assets/scripts/modifica_squadra.js"></script>
    <script>
        window.userType = <%= user.tipo_utente_id %>;
    </script>
</body>
</html>