<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Società - ASD BorgoVercelli</title>
    <link href="/assets/styles/Navbar.css" rel="stylesheet">
    <link href="/assets/styles/Footer.css" rel="stylesheet">
    <link href="/assets/styles/Società.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-DQvkBjpPgn7RC31MCQoOeC9TI2kdqa4+BSgNMNj8v77fdC77Kj5zpWFTJaaAoMbC" crossorigin="anonymous">
    <%- include('../../shared/views/partials/theme-includes') %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/assets/styles/theme-societa.css">
</head>
<body>
    <%- include('partials/navbar') %>

    <!-- Hero Section -->
    <section class="hero-section bg-gradient-primary text-white py-5">
        <div class="container-fluid px-4">
            <div class="row justify-content-center align-items-center">
                <div class="col-12 col-md-8 col-lg-6 text-center">
                    <h1 class="display-4 fw-bold mb-4 animate__animated animate__fadeInDown">
                        <i class="fas fa-users me-3"></i>ASD BorgoVercelli
                    </h1>
                    <p class="lead fs-5 mb-4 animate__animated animate__fadeInUp animate__delay-1s">
                        La tua squadra di calcio locale dal 2022
                    </p>
                    <div class="row g-3 justify-content-center">
                        <div class="col-auto">
                            <div class="stat-card bg-white bg-opacity-10 rounded-pill px-4 py-2">
                                <div class="stat-number fw-bold"><%- new Date().getFullYear() - 2022 %></div>
                                <div class="stat-label small">Anni di storia</div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="stat-card bg-white bg-opacity-10 rounded-pill px-4 py-2">
                                <div class="stat-number fw-bold"><%= membriSocieta.length %></div>
                                <div class="stat-label small">Membri attivi</div>
                            </div>
                        </div>
                        <!--<div class="col-auto">
                            <div class="stat-card bg-white bg-opacity-10 rounded-pill px-4 py-2">
                                <div class="stat-number fw-bold">3</div>
                                <div class="stat-label small">Squadre</div>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section py-5 bg-light">
        <div class="container-fluid px-4">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8">
                    <div class="text-center mb-5">
                        <h2 class="display-5 fw-bold text-primary mb-4">Chi Siamo</h2>
                        <p class="lead fs-5 text-muted">
                            L'Associazione Sportiva Dilettantistica BorgoVercelli è una realtà consolidata nel panorama calcistico locale,
                            impegnata nella promozione dello sport e dei valori che esso rappresenta.
                        </p>
                    </div>

                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="feature-card text-center p-4 bg-white rounded-3 shadow-sm h-100">
                                <div class="feature-icon mb-3">
                                    <i class="fas fa-heart text-danger fa-3x"></i>
                                </div>
                                <h5 class="fw-bold mb-3">Passione</h5>
                                <p class="text-muted">La passione per il calcio ci unisce e ci motiva ogni giorno</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="feature-card text-center p-4 bg-white rounded-3 shadow-sm h-100">
                                <div class="feature-icon mb-3">
                                    <i class="fas fa-users text-primary fa-3x"></i>
                                </div>
                                <h5 class="fw-bold mb-3">Comunità</h5>
                                <p class="text-muted">Costruiamo una comunità forte e unita attraverso lo sport</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="feature-card text-center p-4 bg-white rounded-3 shadow-sm h-100">
                                <div class="feature-icon mb-3">
                                    <i class="fas fa-trophy text-warning fa-3x"></i>
                                </div>
                                <h5 class="fw-bold mb-3">Eccellenza</h5>
                                <p class="text-muted">Miriamo all'eccellenza in campo e nella vita quotidiana</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section class="team-section py-5">
        <div class="container-fluid px-4">
            <div class="text-center mb-5">
                <h2 class="display-5 fw-bold text-primary mb-4">La Nostra Organizzazione</h2>
                <p class="lead fs-5 text-muted">
                    Scopri la struttura e i professionisti che rendono possibile questa bellissima avventura
                </p>

                <!-- Legenda Gruppi -->
                <div class="groups-legend d-flex flex-wrap justify-content-center gap-3 mb-4">
                    <div class="legend-item text-center">
                        <div class="legend-icon mb-2">
                            <i class="fas fa-building fa-2x text-primary"></i>
                        </div>
                        <small class="text-muted fw-bold">Organi Direttivi</small>
                        <div class="legend-badges mt-1">
                            <span class="badge role-presidente badge-sm me-1">●</span>
                            <span class="badge role-vice-presidente badge-sm me-1">●</span>
                            <span class="badge role-segretario badge-sm">●</span>
                        </div>
                    </div>
                    <div class="legend-item text-center">
                        <div class="legend-icon mb-2">
                            <i class="fas fa-futbol fa-2x text-success"></i>
                        </div>
                        <small class="text-muted fw-bold">Staff Tecnico</small>
                        <div class="legend-badges mt-1">
                            <span class="badge role-allenatore badge-sm">●</span>
                        </div>
                    </div>
                    <div class="legend-item text-center">
                        <div class="legend-icon mb-2">
                            <i class="fas fa-users-cog fa-2x text-info"></i>
                        </div>
                        <small class="text-muted fw-bold">Dirigenti</small>
                        <div class="legend-badges mt-1">
                            <span class="badge role-dirigente badge-sm me-1">●</span>
                            <span class="badge role-dirigente-accompagnatore badge-sm">●</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row g-4">
                <%
                // Raggruppa membri per categoria
                const gruppi = {
                    'organi-direttivi': {
                        titolo: 'Organi Direttivi',
                        descrizione: 'La guida e direzione della nostra società',
                        icona: 'fas fa-building',
                        membri: membriSocieta.filter(m => ['presidente', 'vice-presidente', 'segretario'].includes(m.ruolo.toLowerCase()))
                    },
                    'staff-tecnico': {
                        titolo: 'Staff Tecnico',
                        descrizione: 'I professionisti che guidano le nostre squadre',
                        icona: 'fas fa-futbol',
                        membri: membriSocieta.filter(m => m.ruolo.toLowerCase().includes('allenatore'))
                    },
                    'dirigenti': {
                        titolo: 'Dirigenti',
                        descrizione: 'Il supporto organizzativo e gestionale',
                        icona: 'fas fa-users-cog',
                        membri: membriSocieta.filter(m => m.ruolo.toLowerCase().includes('dirigente') || m.ruolo.toLowerCase().includes('accompagnatore'))
                    }
                };

                Object.keys(gruppi).forEach(gruppoKey => {
                    const gruppo = gruppi[gruppoKey];
                    if (gruppo.membri.length > 0) {
                %>
                <!-- Gruppo <%= gruppo.titolo %> -->
                <div class="col-12 mb-5">
                    <div class="group-header text-center mb-4">
                        <div class="group-icon mb-3">
                            <i class="<%= gruppo.icona %> fa-3x text-white"></i>
                        </div>
                        <h3 class="group-title h2 fw-bold text-primary mb-2"><%= gruppo.titolo %></h3>
                        <p class="group-description lead text-muted"><%= gruppo.descrizione %></p>
                    </div>

                    <div class="row g-4">
                        <% gruppo.membri.forEach((membro, index) => { %>
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="member-card bg-white rounded-3 shadow-sm h-100 overflow-hidden animate__animated animate__fadeInUp"
                         style="--animation-delay: <%= index * 0.1 %>s"
                         data-role="<%= membro.ruolo.toLowerCase().replace(/\s+/g, '-') %>">
                        <div class="member-header bg-gradient-primary text-white p-4 text-center">
                            <% if (membro.immagine_profilo) { %>
                                <img class="member-avatar rounded-circle border border-4 border-white shadow"
                                     src="<%= membro.immagine_profilo %>"
                                     alt="Foto di <%= membro.nome %> <%= membro.cognome %>">
                            <% } else { %>
                                <div class="member-avatar bg-dark rounded-circle d-flex align-items-center justify-content-center border border-4 border-white shadow">
                                    <i class="bi bi-person-fill text-white" style="font-size: 3rem;"></i>
                                </div>
                            <% } %>
                            <h5 class="member-name fw-bold mb-1 mt-3"><%= membro.nome %> <%= membro.cognome %></h5>
                            <p class="member-role mb-0 opacity-75">
                                <span class="badge role-badge role-<%= membro.ruolo.toLowerCase().replace(/\s+/g, '-') %>">
                                    <% 
                                    let iconClass = 'fas fa-star';
                                    switch(membro.ruolo.toLowerCase()) {
                                        case 'presidente':
                                            iconClass = 'fas fa-crown';
                                            break;
                                        case 'vice-presidente':
                                            iconClass = 'fas fa-user-tie';
                                            break;
                                        case 'segretario':
                                            iconClass = 'fas fa-clipboard';
                                            break;
                                        case 'dirigente':
                                            iconClass = 'fas fa-briefcase';
                                            break;
                                        case 'allenatore':
                                            iconClass = 'fas fa-futbol';
                                            break;
                                        case 'dirigente accompagnatore':
                                            iconClass = 'fas fa-users-cog';
                                            break;
                                    }
                                    %>
                                    <i class="<%= iconClass %> me-1"></i><%= membro.ruolo %>
                                </span>
                            </p>
                        </div>

                        <div class="member-body p-4">
                            <p class="member-description text-muted mb-4">
                                Membro attivo della nostra società sportiva, impegnato nel <%= membro.ruolo.toLowerCase() %>
                                dell'ASD BorgoVercelli con passione e dedizione.
                            </p>
                        </div>
                    </div>
                </div>
                        <% }); %>
                    </div>
                </div>
                <%   }
                }); %>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section py-5 bg-light">
        <div class="container-fluid px-4">
            <div class="row justify-content-center">
                <div class="col-12 col-md-8 col-lg-6 text-center">
                    <h2 class="display-5 fw-bold text-primary mb-4">Contattaci</h2>
                    <p class="lead fs-5 text-muted mb-4">
                        Hai domande o vuoi unirti alla nostra squadra? Siamo qui per te!
                    </p>
                    <div class="row g-3 justify-content-center">
                        <div class="col-auto">
                            <a href="/contatti" class="btn btn-primary btn-lg px-4">
                                <i class="fas fa-envelope me-2"></i>Scrivici
                            </a>
                        </div>
                        <div class="col-auto">
                            <a href="tel:+390161123456" class="btn btn-outline-primary btn-lg px-4">
                                <i class="fas fa-phone me-2"></i>Chiama
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <%- include('partials/footer') %>

    <script type="module">
        import Societa from '/assets/scripts/components/Società.js';

        // Inizializza funzioni globali per onclick
        window.contattaMembro = function(email) {
            const societa = new Societa(document.body);
            societa.contattaMembro(email);
        };

        window.vediDettagli = function(id) {
            const societa = new Societa(document.body);
            societa.vediDettagli(id);
        };

        new Societa(document.body);
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/js/bootstrap.bundle.min.js" integrity="sha384-YUe2LzesAfftltw+PEaao2tjU/QATaW/rOitAq67e0CT0Zi2VVRL0oC4+gAaeBKu" crossorigin="anonymous"></script>
</body>
</html>